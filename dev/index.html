<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>RiskMeasures · RiskMeasures.jl</title><meta name="title" content="RiskMeasures · RiskMeasures.jl"/><meta property="og:title" content="RiskMeasures · RiskMeasures.jl"/><meta property="twitter:title" content="RiskMeasures · RiskMeasures.jl"/><meta name="description" content="Documentation for RiskMeasures.jl."/><meta property="og:description" content="Documentation for RiskMeasures.jl."/><meta property="twitter:description" content="Documentation for RiskMeasures.jl."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>RiskMeasures.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>RiskMeasures</a><ul class="internal"><li><a class="tocitem" href="#General-assumptions"><span>General assumptions</span></a></li><li><a class="tocitem" href="#Supported-distributions"><span>Supported distributions</span></a></li><li><a class="tocitem" href="#Examples"><span>Examples</span></a></li><li><a class="tocitem" href="#See-Also"><span>See Also</span></a></li><li class="toplevel"><a class="tocitem" href="#Functions"><span>Functions</span></a></li><li><a class="tocitem" href="#Value-at-Risk"><span>Value at Risk</span></a></li><li><a class="tocitem" href="#Conditional-Value-at-Risk"><span>Conditional Value at Risk</span></a></li><li><a class="tocitem" href="#Entropic-Value-at-Risk"><span>Entropic Value at Risk</span></a></li><li><a class="tocitem" href="#Entropic-Risk-Measure"><span>Entropic Risk Measure</span></a></li><li><a class="tocitem" href="#Essential-Infimum"><span>Essential Infimum</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>RiskMeasures</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>RiskMeasures</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/RiskAverseRL/RiskMeasures.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/RiskAverseRL/RiskMeasures.jl/blob/main/docs/src/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="RiskMeasures"><a class="docs-heading-anchor" href="#RiskMeasures">RiskMeasures</a><a id="RiskMeasures-1"></a><a class="docs-heading-anchor-permalink" href="#RiskMeasures" title="Permalink"></a></h1><p>Julia library for computing risk measures for random variables. The random variable represents profits or rewards that are to be maximized. The computed risk value is also better when greater.</p><p>The following risk measures are currently supported</p><ul><li>VaR: Value at risk</li><li>CVaR: Conditional value at risk</li><li>ERM: Entropic risk measure</li><li>EVaR: Entropic value at risk</li></ul><p>When supported, the risk measure returns also the optimal distribution </p><h2 id="General-assumptions"><a class="docs-heading-anchor" href="#General-assumptions">General assumptions</a><a id="General-assumptions-1"></a><a class="docs-heading-anchor-permalink" href="#General-assumptions" title="Permalink"></a></h2><ul><li>Random variables represent <em>rewards</em> (greater value is preferred)</li><li>Risk measures become less risk-averse with the increasing value of the risk parameter <code>α</code> or <code>β</code> </li></ul><h2 id="Supported-distributions"><a class="docs-heading-anchor" href="#Supported-distributions">Supported distributions</a><a id="Supported-distributions-1"></a><a class="docs-heading-anchor-permalink" href="#Supported-distributions" title="Permalink"></a></h2><ul><li>General discrete distributions (<code>DiscreteNonParametric</code>)</li></ul><p><strong>Warning</strong>: This is package is in development and the computed values should be treated with caution. </p><h2 id="Examples"><a class="docs-heading-anchor" href="#Examples">Examples</a><a id="Examples-1"></a><a class="docs-heading-anchor-permalink" href="#Examples" title="Permalink"></a></h2><pre><code class="language-Julia hljs">using RiskMeasures
using Distributions

x̃ = DiscreteNonParametric([1, 5, 6, 7, 20], [0.1, 0.1, 0.2, 0.5, 0.1])
 
VaR(x̃, 0.1)   # value at risk
CVaR(x̃, 0.1)  # conditional value at risk
EVaR(x̃, 0.1)  # entropic value at risk
ERM(x̃, 0.1)   # entropic risk measure</code></pre><p>We can also compute risk measures of transformed random variables</p><pre><code class="language-Julia hljs">VaR(5*x̃ + 10, 0.1)   # value at risk
CVaR(x̃ - 10, 0.1)  # conditional value at risk</code></pre><p>Extended methods <code>VaR_e</code>, <code>CVaR_e</code>, and <code>EVaR_e</code> also return additional statistics and values, such as the distribution that attains the risk value and the optimal <code>β</code> in EVaR.</p><h2 id="See-Also"><a class="docs-heading-anchor" href="#See-Also">See Also</a><a id="See-Also-1"></a><a class="docs-heading-anchor-permalink" href="#See-Also" title="Permalink"></a></h2><ul><li><a href="https://github.com/mpkuperman/MarketRisk.jl">MarketRisk.jl</a></li></ul><h1 id="Functions"><a class="docs-heading-anchor" href="#Functions">Functions</a><a id="Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Functions" title="Permalink"></a></h1><h2 id="Value-at-Risk"><a class="docs-heading-anchor" href="#Value-at-Risk">Value at Risk</a><a id="Value-at-Risk-1"></a><a class="docs-heading-anchor-permalink" href="#Value-at-Risk" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RiskMeasures.VaR" href="#RiskMeasures.VaR"><code>RiskMeasures.VaR</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">VaR(x̃, α)</code></pre><p>Compute the value at risk at risk level <code>α</code> for the random variable <code>x̃</code>.</p><p>Risk must satisfy <span>$α ∈ [0,1]$</span> and <code>α=0.5</code> computes the median and <code>α=1</code> computes the  essential infimum (smallest value with positive probability) and <code>α=0</code> returns infinity.</p><p>Solves for <span>$\inf \{x ∈ \mathbb{R} : \mathbb{P}[x̃ ≤ x] &gt; 1-α \}$</span></p><p>In general, this function is neither convex nor concave.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/RiskAverseRL/RiskMeasures.jl/blob/306ae4c36a25fca02dc2c463cf638a78cfa212f5/src/var.jl#L1-L13">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RiskMeasures.VaR_e" href="#RiskMeasures.VaR_e"><code>RiskMeasures.VaR_e</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">VaR_e(values, pmf, α; ...)</code></pre><p>Compute VaR for a discrete random variable with <code>values</code> and the probability mass function <code>pmf</code>. See <code>VaR(x̃, α)</code> for more details. Also compute the index that achieves </p><p>Runs in <span>$n \log(n)$</span> time where <code>n = length(x̃)</code>.</p><p>Also returns the value VaR and an index <code>i</code> such that <code>values[i] = x</code> in the minimization above. If such an index does not exist, then returns -1.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/RiskAverseRL/RiskMeasures.jl/blob/306ae4c36a25fca02dc2c463cf638a78cfa212f5/src/var.jl#L20-L29">source</a></section></article><h2 id="Conditional-Value-at-Risk"><a class="docs-heading-anchor" href="#Conditional-Value-at-Risk">Conditional Value at Risk</a><a id="Conditional-Value-at-Risk-1"></a><a class="docs-heading-anchor-permalink" href="#Conditional-Value-at-Risk" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RiskMeasures.CVaR" href="#RiskMeasures.CVaR"><code>RiskMeasures.CVaR</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">CVaR(x̃, α)</code></pre><p>Compute the conditional value at risk at level <code>α</code> for the random variable <code>x̃</code>.</p><p>The risk level <code>α</code> must satisfy the <span>$α ∈ [0,1]$</span>. Risk aversion increases with an increasing <code>α</code> and, <code>α = 0</code> represents the expectation,  <code>α = 1</code> computes the essential infimum (smallest value with positive probability).</p><p>Assumes a reward maximization setting and solves the dual form</p><p class="math-container">\[\min_{q ∈ \mathcal{Q}} q^T x̃\]</p><p>where</p><p class="math-container">\[\mathcal{Q} = \left\{q ∈ Δ^n : q_i ≤ \frac{p_i}{1-α}\right\}\]</p><p>and <span>$Δ^n$</span> is the probability simplex, and <span>$p$</span> is the distribution of <span>$x̃$</span>. </p><p>More details: https://en.wikipedia.org/wiki/Expected_shortfall</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/RiskAverseRL/RiskMeasures.jl/blob/306ae4c36a25fca02dc2c463cf638a78cfa212f5/src/cvar.jl#L3-L22">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RiskMeasures.CVaR_e" href="#RiskMeasures.CVaR_e"><code>RiskMeasures.CVaR_e</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">CVaR_e(x̃, α)</code></pre><p>Compute the conditional value at risk at level <code>α</code> for the random variable <code>x̃</code>. Also compute the equivalent random variable with the same support but a different distribution.</p><p>Returns a named tuple with <code>value</code> and the <code>solution</code> random variable that solves the robust CVaR formulation. That is if <code>ỹ</code> is the solution, then the support of <code>x̃</code> and <code>ỹ</code> are the same and  <span>$\mathbb{E}[ỹ] = \operatorname{CVaR}_{α}[x̃]$</span>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/RiskAverseRL/RiskMeasures.jl/blob/306ae4c36a25fca02dc2c463cf638a78cfa212f5/src/cvar.jl#L25-L34">source</a></section></article><h2 id="Entropic-Value-at-Risk"><a class="docs-heading-anchor" href="#Entropic-Value-at-Risk">Entropic Value at Risk</a><a id="Entropic-Value-at-Risk-1"></a><a class="docs-heading-anchor-permalink" href="#Entropic-Value-at-Risk" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RiskMeasures.EVaR" href="#RiskMeasures.EVaR"><code>RiskMeasures.EVaR</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">EVaR(x̃, α; βmin = 1e-5, βmax = 100, reciprocal = false, distribution = false)</code></pre><p>Compute the EVaR risk measure of the random variable <code>x̃</code> with risk level <code>α</code> in [0,1].</p><p>When <code>α = 0</code>, the function computes the expected value, and when <code>α = 1</code>, then the  function computes the essential infimum (a minimum value with positive probability).</p><p>The function solves</p><p class="math-container">\[\max_{β ∈ [βmin, βmax]} \operatorname{ERM}_β (x̃) - β^{-1} \log (1/(1-α)).\]</p><p>Large values of <code>βmax</code> may cause the computation to overflow.</p><p>If <code>reciprocal = false</code>, then the quasi-concave problem above is solved directly. If <code>reciprocal = true</code>, then the optimization is reformulated in terms of <code>λ = 1/β</code> to get a concave function that can be solved (probably) more efficiently</p><p>The function implicitly assumes that all elements of the probability space have non-zero probability. </p><p>Returns the EVaR and the value β that attains the maximum above.</p><p>See: Ahmadi-Javid, A. “Entropic Value-at-Risk: A New Coherent Risk Measure.” Journal of Optimization Theory and Applications 155(3), 2012.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/RiskAverseRL/RiskMeasures.jl/blob/306ae4c36a25fca02dc2c463cf638a78cfa212f5/src/evar.jl#L4-L31">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RiskMeasures.EVaR_e" href="#RiskMeasures.EVaR_e"><code>RiskMeasures.EVaR_e</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">EVaR_e(values, pmf, α; ...)</code></pre><p>Compute EVaR for a discrete random variable with <code>values</code> and the probability mass function <code>pmf</code>. See <code>EVaR(x̃, α)</code> for more details.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/RiskAverseRL/RiskMeasures.jl/blob/306ae4c36a25fca02dc2c463cf638a78cfa212f5/src/evar.jl#L35-L40">source</a></section></article><h2 id="Entropic-Risk-Measure"><a class="docs-heading-anchor" href="#Entropic-Risk-Measure">Entropic Risk Measure</a><a id="Entropic-Risk-Measure-1"></a><a class="docs-heading-anchor-permalink" href="#Entropic-Risk-Measure" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RiskMeasures.ERM" href="#RiskMeasures.ERM"><code>RiskMeasures.ERM</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">ERM(x̃, β [, x̃min, check_inputs = true])</code></pre><p>Compute the entropic risk measure of the random variable <code>x̃</code> with risk level <code>β</code>. </p><p>The optional <code>x̃min</code> parameter is used as an offset in order to avoid overflows when computing the exponential function. If not provided, the minimum value of <code>x̃</code> is used instead. </p><p>Assumes a maximization problem. Using <code>β=0</code> computes expectation and <code>β=Inf</code> computes the essential infimum (smallest value with positive probability).</p><p>More details: https://en.wikipedia.org/wiki/Entropic<em>risk</em>measure</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/RiskAverseRL/RiskMeasures.jl/blob/306ae4c36a25fca02dc2c463cf638a78cfa212f5/src/erm.jl#L3-L16">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RiskMeasures.softmin" href="#RiskMeasures.softmin"><code>RiskMeasures.softmin</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">softmin(x̃, β; x̃min check_inputs = true)</code></pre><p>Compute a weighted softmin function for random variable <code>x̃</code> with risk level <code>β</code>.  This can be seen as an approximation of the arg min function and not the min function.</p><p>The operator computes a distribution p such that</p><p class="math-container">\[p_i = \frac{e^{-β x_i}}{\mathbb{E}[e^{-β x̃}]}\]</p><p>The optional <code>x̃min</code> parameter is used as an offset in order to avoid overflows when computing the exponential function. If not provided, the minimum value of <code>x̃</code> is used instead. </p><p>The value β must be positive</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/RiskAverseRL/RiskMeasures.jl/blob/306ae4c36a25fca02dc2c463cf638a78cfa212f5/src/erm.jl#L41-L57">source</a></section></article><h2 id="Essential-Infimum"><a class="docs-heading-anchor" href="#Essential-Infimum">Essential Infimum</a><a id="Essential-Infimum-1"></a><a class="docs-heading-anchor-permalink" href="#Essential-Infimum" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RiskMeasures.essinf" href="#RiskMeasures.essinf"><code>RiskMeasures.essinf</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">essinf(x̃; distribution = false)</code></pre><p>Compute the essential infimum of the random variable <code>x̃</code>, which is the minimum value with positive probability</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/RiskAverseRL/RiskMeasures.jl/blob/306ae4c36a25fca02dc2c463cf638a78cfa212f5/src/essinf.jl#L1-L6">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RiskMeasures.essinf_e" href="#RiskMeasures.essinf_e"><code>RiskMeasures.essinf_e</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">essinf_e(values, pmf; ...)</code></pre><p>Compute the value for a random variable with <code>values</code> and the probability mass function <code>pmf</code>.</p><p>See <code>essinf_e(x̃)</code> for more details.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/RiskAverseRL/RiskMeasures.jl/blob/306ae4c36a25fca02dc2c463cf638a78cfa212f5/src/essinf.jl#L9-L16">source</a></section></article></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.2.1 on <span class="colophon-date" title="Monday 18 December 2023 19:55">Monday 18 December 2023</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
